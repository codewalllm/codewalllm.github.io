import{u as a,b as e}from"./vue-router.7457da8d.js";import{u as t}from"./vuex.1b7a4305.js";import{d as s,e as l,f as o,i as u,n,ah as r,o as m,M as p,O as i,c as b,F as c,a7 as d,u as h,B as v}from"./@vue.d99a4689.js";const f=s({__name:"tabs",setup(s){const f=a(),g=t(),T=e(),j=l(f.path);o((()=>f.path),(a=>{j.value=a})),u((()=>{n((()=>{g.commit("SETTABS",[Object.assign({},f)])}))}));const y=a=>{let e=g.getters.tabs[`${a.index}`];S(e)},S=a=>{T.push({path:a.path,query:(null==a?void 0:a.query)||{},params:(null==a?void 0:a.params)||{}})},x=a=>{const e=g.getters.tabs;let t=f.path;t===a&&e.forEach(((s,l)=>{if(s.name===a){const a=e[l+1]||e[l-1];a&&(t=a.path)}})),g.commit("SETTABS",e.filter((e=>e.path!==a))),setTimeout((()=>{let a=g.getters.tabs[0];S(a)}),16)};return(a,e)=>{const t=r("el-tab-pane"),s=r("el-tabs");return m(),p(s,{modelValue:h(j),"onUpdate:modelValue":e[0]||(e[0]=a=>v(j)?j.value=a:null),type:"card",onTabClick:y,onTabRemove:x},{default:i((()=>[(m(!0),b(c,null,d(h(g).getters.tabs,((a,e)=>{var s;return m(),p(t,{key:e,label:(null==(s=null==a?void 0:a.meta)?void 0:s.title)||"未配置",name:a.path,closable:h(g).getters.tabs.length>1},null,8,["label","name","closable"])})),128))])),_:1},8,["modelValue"])}}});export{f as default};
