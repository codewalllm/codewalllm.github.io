import{s as e,h as l,t as a,v as t,u as n,e as i,w as o,x as d,o as s,p as r,f as u,g as p}from"./element-plus.d9718458.js";import"./vue.ea117135.js";import{b as y,u as c}from"./vue-router.b3f333f3.js";import{u as g}from"./vuex.16220312.js";import{d as v,k as m,j as f,c as b,a as k,F as h,a7 as w,u as _,M as x,R as j,o as z,O as C,S as B,T as D,b as V,P as A,U as S,I as U,Z as M,a8 as q,J as I}from"./@vue.eb62a264.js";import{a as L,F as P}from"./index.f86f8509.js";import{M as F}from"./@element-plus.30484454.js";import{l as O}from"./lodash.a57d72c0.js";const T={class:"flex margin-t-15"},K={class:"flex-1 text-ellipsis"},R=L(v({__name:"Pagination",props:{btnInfos:{type:Array,default:[]},pagination:{type:Object,default:{loading:!1,page:1,size:10,total:0}}},emits:["clickBtn","page","size"],setup(a,{emit:t}){const n=y(),i=g(),o=t,d=m((()=>["xl","lg"].includes(i.getters.screenSize)?"prev, pager, next, jumper, sizes, total":["md","sm"].includes(i.getters.screenSize)?"prev, pager, next, total":"prev, next"));f((()=>{i.dispatch("SetAuthPageBtns",n.name)}));const s=e=>{o("page",e)},r=e=>{o("size",e)};return(t,u)=>{var p,y,c,g,v,m,f,V,A;const S=l,U=e;return z(),b("div",T,[k("div",K,[(z(!0),b(h,null,w(null==(p=_(i).getters.authPageBtns[_(n).name])?void 0:p.btns,((e,l)=>{var t,n,d;return z(),x(S,{disabled:(null==(d=null==(n=null==(t=_(i))?void 0:t.getters)?void 0:n.loading)?void 0:d.request)||a.pagination.loading,key:l,type:e.type,onClick:l=>o("clickBtn",e)},{default:C((()=>[B(D(e.label),1)])),_:2},1032,["disabled","type","onClick"])})),128))]),a.pagination&&(null==(y=a.pagination)?void 0:y.page)&&(null==(c=a.pagination)?void 0:c.size)&&(null==(g=a.pagination)?void 0:g.total)&&(!["xs"].includes(_(i).getters.screenSize)||(null==(v=_(d))?void 0:v.total)>(null==(m=a.pagination)?void 0:m.size))?(z(),x(U,{key:0,"current-page":a.pagination.page,"onUpdate:currentPage":u[0]||(u[0]=e=>a.pagination.page=e),"page-size":a.pagination.size,"onUpdate:pageSize":u[1]||(u[1]=e=>a.pagination.size=e),disabled:(null==(A=null==(V=null==(f=_(i))?void 0:f.getters)?void 0:V.loading)?void 0:A.request)||a.pagination.loading,"page-sizes":[1,10,20,50,100],layout:_(d),total:a.pagination.total,onCurrentChange:s,onSizeChange:r},null,8,["current-page","page-size","disabled","layout","total"])):j("v-if",!0)])}}}),[["__file","D:/nodejs-egg-template-runningspace/default/666f9cfd3276ef2d39826b3c/src/components/page/Pagination.vue"]]),$={class:"flex flex-column height-100p overflow-auto"},J=["onClick"],Z={key:0},E={key:1},G={key:2},H={key:3},N={key:4},Q={key:5},W={key:6},X={key:7},Y=k("div",{class:"flex-1-1"},null,-1),ee=L(v({__name:"Table",props:{btnInfos:{type:Array,default:[]},tableList:{type:Array,default:[{type:"name",label:"姓名",key:"name"},{type:"select",label:"状态",key:"status",options:{1:"获取代码",2:"获取依赖",3:"打包中"}},{type:"date",label:"日期",key:"date"},{type:"datetime",label:"时间",key:"datetime"},{type:"button",label:"操作",btns:[{type:"primary",label:"编辑",key:"edit"}]}]},tableData:{type:Object,default:{loading:!1,data:[{name:"回复哎对佛化身fish的粉丝u护发素爱妃哈桑回复i阿瑟东合法随风哈随",status:"1",date:"2023-05-26",datetime:new Date}]}}},emits:["handleSelectionChange"],setup(e,{emit:i}){const o=V(),d=i,s=e=>{let l;switch(e.type){case"datetime":l=180;break;case"date":case"tel":l=120;break;default:l="auto"}return e.width||l};return(i,r)=>{const u=n,p=l,y=a,c=t;return z(),b("div",$,[A((z(),x(y,{ref_key:"tableRef",ref:o,border:"",stripe:"","highlight-current-row":"",data:e.tableData.data,"empty-text":e.tableData.loading?"拼命加载中...":"暂无数据","element-loading-spinner":'<path class="path" d="  M 30 15  L 28 17  M 25.61 25.61  A 15 15, 0, 0, 1, 15 30  A 15 15, 0, 1, 1, 27.99 7.5  L 15 15" style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>',"element-loading-svg-view-box":"-10, -10, 50, 50","header-cell-style":{background:"#eef1f6"},onSelectionChange:r[0]||(r[0]=l=>{e.tableData.selectData=l})},{default:C((()=>{var l;return[(null==(l=e.btnInfos.filter((e=>!["add"].includes(e.key))))?void 0:l.length)>0?(z(),x(u,{key:0,align:"center",type:"selection",width:"50"})):j("v-if",!0),S(u,{align:"center",type:"index",label:"序号",width:"60"}),(z(!0),b(h,null,w(e.tableList.filter((e=>{var l;return"button"==e.type&&!!(null==(l=null==e?void 0:e.btns)?void 0:l.length)||"button"!=e.type})),(e=>(z(),x(u,{align:"center","show-overflow-tooltip":"",key:e.key,label:e.label,"min-width":s(e)},{default:C((l=>{var a,t,n,o,s,r,u,y,c;return[j(" 表格项是否可以点击 "),k("div",{class:U({"cursor-pointer":e.click}),onClick:a=>e.click&&d("clickTable",e,l.row)},[["date"].includes(e.type)&&l.row[e.key]?(z(),b("div",Z,D(_(P)(l.row[e.key],"{y}-{m}-{d}")),1)):["datetime"].includes(e.type)&&l.row[e.key]?(z(),b("div",E,D(_(P)(l.row[e.key])),1)):["select"].includes(e.type)&&(l.row[e.key]||["0"].includes(`${l.row[e.key]}`))?(z(),b("div",G,D((null==(a=null==e?void 0:e.options)?void 0:a[l.row[e.key]])||"--"),1)):["codeUrl","uploadFolder"].includes(e.type)&&l.row[e.key]?(z(),b("div",H,D(null==(o=null==(n=null==(t=l.row)?void 0:t[e.key])?void 0:n.split("/"))?void 0:o.at(-1)),1)):["button"].includes(e.type)&&(null==(s=null==e?void 0:e.btns)?void 0:s.length)>0?(z(),b("div",N,[j(" text "),(z(!0),b(h,null,w(e.btns,(e=>{var a,t,n;return z(),x(p,{key:e.key,type:e.type,disabled:null==(n=null==(t=null==(a=i.$store)?void 0:a.getters)?void 0:t.loading)?void 0:n.request,onClick:a=>d("clickBtn",e,l.row)},{default:C((()=>[B(D(e.label),1)])),_:2},1032,["type","disabled","onClick"])})),128))])):["array"].includes(e.type)&&(null==(r=l.row)?void 0:r[e.key])&&Array.isArray(null==(u=l.row)?void 0:u[e.key])?(z(),b("div",Q,D((null==(y=l.row)?void 0:y[e.key].map((l=>l[e.arrayKey])).join("/"))||"--"),1)):Array.isArray(e.key)?(z(),b("div",W,D(e.key.filter((e=>{var a;return null==(a=l.row)?void 0:a[e]})).map((e=>{var a;return null==(a=l.row)?void 0:a[e]})).join("/")),1)):(z(),b("div",X,D((null==(c=l.row)?void 0:c[e.key])||"--"),1))],10,J)]})),_:2},1032,["label","min-width"])))),128))]})),_:1},8,["data","empty-text"])),[[c,e.tableData.data.length&&e.tableData.loading]]),Y])}}}),[["__file","D:/nodejs-egg-template-runningspace/default/666f9cfd3276ef2d39826b3c/src/components/page/Table.vue"]]),le=L(v({__name:"Search",props:{hiddenBtn:{type:Boolean,default:!1},formList:{type:Array,default:[{type:"input",label:"输入框",key:"input"},{type:"select",label:"选择",key:"select",options:[{label:"选择1",value:"1"},{label:"选择2",value:"2"}]}]},tableData:{type:Object,default:{loading:!1}}},emits:["query"],setup(e,{emit:a}){y(),c();const t=g(),n=V(),v=a,m=e,f=M({}),k=O.debounce((()=>A()),500),A=()=>{v("query",f)};return(a,y)=>{var c,g,v;const V=o,U=d,M=s,L=r,P=u,O=p,T=l,K=i;return z(),x(K,{ref_key:"elfrom",ref:n,class:"elfrom",inline:"",model:f,disabled:!e.hiddenBtn&&(null==(v=null==(g=null==(c=_(t))?void 0:c.getters)?void 0:g.loading)?void 0:v.request),onKeyup:y[2]||(y[2]=q((e=>_(k)()),["enter"]))},{default:C((()=>[(z(!0),b(h,null,w(m.formList,(l=>(z(),x(O,{style:I(e.hiddenBtn?"margin-left:32px;margin-right: 0px;":""),label:l.label,key:l.key,prop:l.key},{default:C((()=>["select"==l.type?(z(),x(U,{key:0,style:{width:"200px"},modelValue:f[l.key],"onUpdate:modelValue":e=>f[l.key]=e,modelModifiers:{trim:!0},filterable:"",clearable:"",placeholder:l.placeholder||"请选择"},{default:C((()=>[(z(!0),b(h,null,w(l.options,(e=>(z(),x(V,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):"radio"==l.type?(z(),x(L,{key:1,modelValue:f[l.key],"onUpdate:modelValue":e=>f[l.key]=e,modelModifiers:{trim:!0}},{default:C((()=>[(z(!0),b(h,null,w(l.options,(e=>(z(),x(M,{key:e.value,value:e.value},{default:C((()=>[B(D(e.label),1)])),_:2},1032,["value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):(z(),x(P,{key:2,style:{width:"200px"},modelValue:f[l.key],"onUpdate:modelValue":e=>f[l.key]=e,modelModifiers:{trim:!0},clearable:"",placeholder:l.placeholder||"请输入","suffix-icon":e.hiddenBtn?_(F):"",onInput:y[0]||(y[0]=l=>e.hiddenBtn&&_(k)())},null,8,["modelValue","onUpdate:modelValue","placeholder","suffix-icon"]))])),_:2},1032,["style","label","prop"])))),128)),e.hiddenBtn?j("v-if",!0):(z(),x(O,{key:0},{default:C((()=>[S(T,{type:"primary",onClick:A},{default:C((()=>[B("搜索")])),_:1}),S(T,{onClick:y[1]||(y[1]=()=>{_(n).resetFields(),A()})},{default:C((()=>[B(" 重置 ")])),_:1})])),_:1}))])),_:1},8,["model","disabled"])}}}),[["__scopeId","data-v-bb387d4f"],["__file","D:/nodejs-egg-template-runningspace/default/666f9cfd3276ef2d39826b3c/src/components/page/Search.vue"]]);export{le as _,ee as a,R as b};
